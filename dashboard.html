<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å—Ç–£—Å–ª—É–≥–∏ | GVRPA</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root { --bg: #0f111a; --card: #1a1d2e; --accent: #3b82f6; --text: #e2e8f0; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .user-bar { display: flex; justify-content: space-between; align-items: center; max-width: 1000px; margin: 0 auto 30px; background: var(--card); padding: 15px 25px; border-radius: 12px; border: 1px solid #2d334d; }
        #user-name { font-weight: bold; color: var(--accent); }
        .header { text-align: center; margin-bottom: 40px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; max-width: 1000px; margin: 0 auto; }
        .service-card { background: var(--card); padding: 25px; border-radius: 15px; border: 1px solid #2d334d; transition: 0.3s; cursor: pointer; text-align: center; }
        .service-card:hover { transform: translateY(-5px); border-color: var(--accent); box-shadow: 0 10px 20px rgba(0,0,0,0.4); }
        .service-card span { font-size: 40px; display: block; margin-bottom: 10px; }
        .btn-logout { background: #ef4444; color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; }
        .btn-profile { margin-left: 15px; background: none; border: 1px solid var(--accent); color: var(--accent); padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 12px; }
    </style>
</head>
<body>

<div class="user-bar">
    <div>
        <span id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
        <button class="btn-profile" onclick="window.location.href='profile.html'">–ú–æ–∏ –∑–∞—è–≤–∫–∏</button>
    </div>
    <button class="btn-logout" onclick="logout()">–í—ã–π—Ç–∏</button>
</div>

<div class="header">
    <h1>–ö–∞–ª—Ç–£—Å–ª—É–≥–∏</h1>
    <p style="color: #94a3b8;">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª GVRPA</p>
</div>

<div class="grid">
    <div class="service-card" onclick="openService('–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ')"><span>üõÇ</span><h3>–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ</h3><p>ID-–∫–∞—Ä—Ç–∞</p></div>
    <div class="service-card" onclick="openService('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–≤—Ç–æ')"><span>üöó</span><h3>–ê–≤—Ç–æ</h3><p>–£—á–µ—Ç –¢–°</p></div>
    <div class="service-card" onclick="openService('–ü–æ–ª–∏—Ü–∏—è')" style="border-color: #1d4ed8;">
    <div class="service-card" onclick="openService('–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å')"><span>üè†</span><h3>–î–æ–º</h3><p>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</p></div>
    <div class="service-card" onclick="openService('–í–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∞–≤–∞')"><span>ü™™</span><h3>–ü—Ä–∞–≤–∞</h3><p>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ A,B,C</p></div>
    <div class="service-card" onclick="openService('–ë—Ä–∞–∫')"><span>üíç</span><h3>–ë—Ä–∞–∫</h3><p>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ—é–∑–∞</p></div>
    <div class="service-card" onclick="openService('–°—É–¥')"><span>‚öñÔ∏è</span><h3>–°—É–¥</h3><p>–ò—Å–∫–∏ –∏ –∂–∞–ª–æ–±—ã</p></div>
    <div class="service-card" onclick="openService('–î–¢–ü')"><span>üí•</span><h3>–î–¢–ü</h3><p>–û—Ç—á–µ—Ç –æ–± –∞–≤–∞—Ä–∏–∏</p></div>
    <div class="service-card" onclick="openService('–ü—Ä–∞–≤–∏–ª–∞')"><span>üìú</span><h3>–ü—Ä–∞–≤–∏–ª–∞</h3><p>–£—Å—Ç–∞–≤ –∏ –ü–î–î</p></div>
    <div class="service-card" onclick="openService('–ü–æ–ª–∏—Ü–∏—è')"><span>üëÆ‚Äç‚ôÇÔ∏è</span><h3>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ì—Ä–∞–∂–¥–∞–Ω</h3><p>–¢–æ–ª—å–∫–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ WPD</p></div>
</div>

<script>
    const SUPABASE_URL = 'https://exbhxsdwqznmroxrzxjp.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4Ymh4c2R3cXpubXJveHJ6eGpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxMDUzMzksImV4cCI6MjA4NzY4MTMzOX0.CUpzfJCrhghGNZKMK4xboXA7ZdSbYArWBSW4LpMevVk'; 
    const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function checkUser() {
        const { data: { user } } = await supabaseClient.auth.getUser();
        if (!user) { window.location.href = "index.html"; }
        else { document.getElementById('user-name').innerText = "üë§ " + user.email.split('@')[0]; }
    }

    function openService(type) {
        const routes = {
            '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–≤—Ç–æ': 'auto.html',
            '–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ': 'passport.html',
            '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å': 'house.html',
            '–í–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∞–≤–∞': 'license.html',

'–ë—Ä–∞–∫': 'marriage.html',
            '–°—É–¥': 'court.html',
            '–î–¢–ü': 'accident.html',
            '–ü—Ä–∞–≤–∏–ª–∞': 'rules.html'
        };
        if (routes[type]) { window.location.href = routes[type]; }
        else { alert("–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"); }
    }
    
    async function logout() { await supabaseClient.auth.signOut(); window.location.href = "index.html"; }
    checkUser();
</script>
</body>
</html>
